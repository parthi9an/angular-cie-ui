<div ng-controller="EventSearchCtrl as sCtrl">
	<div class="row">

		<div class="col-lg-12">
			<div class="ibox float-e-margins" ng-mouseenter="show = true"
				ng-mouseleave="show = false">
				<div class="ibox-title">
					<h5>Saved Filter <small>Mouse over here to see filter list</small></h5>
					<button class="btn-primary btn btn-xs" style="float: right;"
						ng-click="sCtrl.getSavedFilters({'limit':-1})">View All</button>
					<br />
				</div>
				<div class="ibox-content animated fadeIn" ng-show="show">

					<table id="savedFilterList"
						class="table table-striped table-bordered table-hover dataTables-example">
						<thead>
							<tr>
								<th>Name</th>
								<th>Source</th>
								<th>Server</th>
								<th>User</th>
								<th>Session</th>
								<th>From Date</th>
								<th>To Date</th>
								<th>Action</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="filter in sCtrl.savedFilterList"
								ng-click="sCtrl.setSearchFilter(filter)">
								<td>{{filter.filtername}}</td>
								<td>{{filter.source}}</td>
								<td>{{filter.serverId}}</td>
								<td>{{filter.domainId}}</td>
								<td>{{filter.sessionId}}</td>
								<td>{{filter.fromDate | date:'yyyy-MM-dd HH:mm:ss.sss'}}</td>
								<td>{{filter.toDate | date:'yyyy-MM-dd HH:mm:ss.sss'}}</td>
								<td><button class="btn-danger btn btn-xs"
										ng-click="sCtrl.deleteFilterRecord(filter['@rid'])">
										<i class='fa fa-times'></i>
									</button></td>

							</tr>
						</tbody>

					</table>
				</div>
			</div>
		</div>

	</div>
	<div class="row border-bottom" style="margin: 10px;">
		<form role="form" class="form-inline">
			<div class="form-group">
				<div class="input-group">
					<select class="form-control" ng-model="sCtrl.selected.source"
						ng-options="e for e in sCtrl.eventSourceList track by e"
						ng-change="sCtrl.hasSourceChanged()">
						<option value="">&nbsp;&nbsp;&nbsp;All
							Source&nbsp;&nbsp;&nbsp;</option>
					</select>
				</div>
				<div class="input-group">
					<select chosen options="sCtrl.eventServerList"
						class=" form-control" ng-model="sCtrl.selected.serverId"
						ng-options="e for e in sCtrl.eventServerList track by e"
						ng-change="sCtrl.hasServerChanged()">
						<option value="">&nbsp;&nbsp;&nbsp;All Server
							&nbsp;&nbsp;&nbsp;</option>
					</select>
				</div>
				<div class="input-group">
					<select chosen options="sCtrl.eventDomainList"
						class=" form-control" ng-model="sCtrl.selected.domainId"
						ng-options="e for e in sCtrl.eventDomainList track by e"
						ng-change="sCtrl.hasDomainChanged()">
						<option value="">&nbsp;&nbsp;&nbsp; All User
							&nbsp;&nbsp;&nbsp;</option>
					</select>
				</div>
				<div class="input-group">
					<select chosen options="sCtrl.eventSessionList"
						class="form-control" ng-model="sCtrl.selected.sessionId"
						ng-options="e for e in sCtrl.eventSessionList track by e"
						ng-change="sCtrl.hasSessionChanged()">
						<option value="">&nbsp;&nbsp;&nbsp; All
							Session&nbsp;&nbsp;&nbsp;</option>
					</select>
				</div>
				<div class="input-group date">
					<input id="fromDate" style='width: 150px' type="datetime"
						class="form-control" date-time ng-model="sCtrl.fromDate"
						view="date" auto-close="true" placeholder="From Date"
						ng-blur="sCtrl.hasFromDateChanged()"> <span
						class="input-group-addon"><i class="fa fa-calendar"></i></span>
				</div>
				<div class="input-group date">
					<input id="toDate" style='width: 150px' type="datetime"
						class="form-control" date-time ng-model="sCtrl.toDate" view="date"
						auto-close="true" placeholder="To Date"
						ng-blur="sCtrl.hasToDateChanged()"> <span
						class="input-group-addon"><i class="fa fa-calendar"></i></span>
				</div>

			</div>
		</form>
		<div class="row border-bottom" style="margin: 10px; float: right">
			<form role="form" class="form-inline">
				<div class="input-group">
					<input style='width: 150px' type="text" class="form-control"
						ng-model="sCtrl.filtername"
						placeholder="filtername{{sCtrl.totalFilterCount + 1}}">

				</div>
				<!-- <div class="input-group" ng-click="sCtrl.eventSearch()">
					<button class="btn btn-primary" type="submit">
						<i class="fa fa-search"></i>
					</button>
				</div> -->
				<div class="input-group" ng-click="sCtrl.saveSearchFilter()">
					<button class="btn btn-primary" type="submit">
						<i class="fa fa-save"></i>
					</button>
				</div>
				<div class="input-group" ng-click="sCtrl.clearSearchFilter()">
					<button class="btn btn-primary" type="submit">
						<i class="fa fa-trash-o"></i>
					</button>
				</div>
			</form>
		</div>
	</div>
</div>
